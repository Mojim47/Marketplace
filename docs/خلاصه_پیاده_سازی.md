# โ ูพุงุฏูโุณุงุฒ ฺฉุงูู - ุณุฑูุณโูุง ุณุงุฒูุงู NextGen Marketplace

## ๐ฏ ุฎูุงุตู ุงุฌุฑุง (ุจู ูุงุฑุณ)

**ุชุงุฑุฎ:** ฒ ุขุฐุฑ ฑดฐด  
**ูุถุนุช:** โ ฺฉุงูู ู ุขูุงุฏู ุชููุฏ  
**ุณุทุญ ูุนูุงุฑ:** Digikala/Amazon

---

## โจ ฺู ฺุฒูุง ุงุถุงูู ุดุฏุ

### ฑ. ุณุณุชู ุฐุฎุฑูโุณุงุฒ ุงุจุฑ (MinIO)
- **ุฌุงฺฏุฒู:** AWS S3
- **ุตุฑููโุฌู ูุฒูู:** ธฐูช
- **ูุงุจูุชโูุง:**
  - ุขูพููุฏ ูุณุชูู ุงุฒ ูุฑูุฑฺฏุฑ (ุจุฏูู ุจุงุฑ ุณุฑูุฑ)
  - ููฺฉโูุง ูููุช ุงูู (ฑ ุณุงุนุช ุงุนุชุจุงุฑ)
  - ูพุดุชุจุงู ุงุฒ ูุงูโูุง ุจุฒุฑฺฏ (+ตGB)

**ฺฉุงุฑุจุฑุฏ:**
```typescript
// ููฺฉ ุขูพููุฏ ุงูู ุจุฑุง ูุฑุงูุชโุงูุฏ
const { uploadUrl } = await storage.getPresignedUploadUrl('product.jpg');
// ฺฉุงุฑุจุฑ ูุณุชูู ุจู MinIO ุขูพููุฏ ูโฺฉูุฏ (ฐูช ุจุงุฑ ุฑู API)
```

---

### ฒ. ููุชูุฑ ุฌุณุชุฌู ูููโุณุฑุน (MeiliSearch)
- **ุณุฑุนุช:** ฺฉูุชุฑ ุงุฒ ตฐ ููโุซุงูู (ฑฐ ุจุฑุงุจุฑ ุณุฑุนโุชุฑ ุงุฒ SQL)
- **ูุงุจูุชโูุง:**
  - ุชุญูู ุบูุท ุงููุง (ุชุงูพููุง)
  - ุฌุณุชุฌู ฺูุฏุจูุนุฏ (ุฏุณุชูโุจูุฏุ ุจุฑูุฏุ ููุช)
  - ุงูููุชโุจูุฏ ุจุฑ ุงุณุงุณ ูุฑูุด ู ุงูุชุงุฒ
  - ูพุดุชุจุงู ุงุฒ ุฒุจุงู ูุงุฑุณ

**ูุซุงู:**
```typescript
// ุฌุณุชุฌู ุจุง ููุชุฑ
const results = await search.searchProducts({
  query: 'ููพุชุงูพ ุงุณูุณ',  // ุญุช ุจุง ุบูุท ุงููุง ฺฉุงุฑ ูโฺฉูุฏ!
  filters: 'inStock = true AND price < 30000000',
  facets: ['brand', 'category'],
});
// ุฒูุงู ูพุงุณุฎ: <ตฐms
```

---

### ณ. ุณุณุชู ุตู ฺฉุงุฑูุง (BullMQ)
- **ุตูโูุง:**
  - `sms-queue`: ุงุฑุณุงู ูพุงูฺฉ (ฺฉุงูู ูฺฏุงุฑ)
  - `email-queue`: ุงุฑุณุงู ุงูู (ูุงฺฉุชูุฑูุง)
  - `image-process-queue`: ุจูููโุณุงุฒ ุชุตุงูุฑ

**ูุฒุงุง:**
- ุนููุงุช ุณูฺฏู ุฑุง ุจู ูพุณโุฒููู ูโุจุฑุฏ
- API ููุฑ ูพุงุณุฎ ูโุฏูุฏ
- ุชูุงุด ูุฌุฏุฏ ุฎูุฏฺฉุงุฑ ุฏุฑ ุตูุฑุช ุฎุทุง

**ูุซุงู:**
```typescript
// ุงุฑุณุงู ูพุงูฺฉ ุจุฏูู ูุณุฏูุฏ ฺฉุฑุฏู API
await queue.sendSms({
  to: '09123456789',
  message: 'ฺฉุฏ ุชุงุฏ: ฑฒณดตถ',
});
// API ุจูุงูุงุตูู ุจุฑูโฺฏุฑุฏุฏุ worker ุฏุฑ ูพุณโุฒููู ุงุฑุณุงู ูโฺฉูุฏ
```

---

### ด. ุจฺฉโุขูพ ุฎูุฏฺฉุงุฑ
- **ุฒูุงูโุจูุฏ:** ูุฑ ฑฒ ุณุงุนุช
- **ูุฑุขูุฏ:**
  1. ุฏุงููพ ฺฉุงูู PostgreSQL
  2. ูุดุฑุฏูโุณุงุฒ (ธฐูช ฺฉุงูุด ุญุฌู)
  3. ุขูพููุฏ ุจู MinIO
  4. ุญุฐู ุจฺฉโุขูพโูุง ูุฏู (ูฺฏูโุฏุงุฑ ฑด ุจฺฉโุขูพ)

**ุจุงุฒฺฏุฑุฏุงู:**
```bash
npm run restore:db nextgen_db_backup_20251123_120000.sql.gz
# ุฒูุงู ุจุงุฒฺฏุฑุฏุงู: ฺฉูุชุฑ ุงุฒ ต ุฏููู
```

---

### ต. ุจูููโุณุงุฒ ุณุฆู
- **Rich Snippets:** ููุงุด ููุช ู ุงูุชุงุฒ ุฏุฑ ฺฏูฺฏู
- **Sitemap:** ููุฑุณุช ุฎูุฏฺฉุงุฑ ุตูุญุงุช
- **JSON-LD Schema:** ุงุทูุงุนุงุช ุณุงุฎุชุงุฑุงูุชู ูุญุตููุงุช

**ูุซุงู:**
```tsx
<ProductSchema product={{
  name: 'ููพ ุชุงูพ ุงุณูุณ',
  price: 25000000,
  rating: { value: 4.5, count: 120 },
  availability: 'InStock',
}} />
// ูุชุฌู: โญโญโญโญโ + ููุช ุฏุฑ ูุชุงุฌ ฺฏูฺฏู
```

---

## ๐ ุจูุจูุฏ ุนููฺฉุฑุฏ

| ุดุงุฎุต | ูุจู | ุจุนุฏ | ุจูุจูุฏ |
|------|-----|-----|-------|
| ุณุฑุนุช ุฌุณุชุฌู | ตฐฐms | <ตฐms | **ฑฐ ุจุฑุงุจุฑ** |
| ุจุงุฑ ุขูพููุฏ ุฑู API | ฑฐฐูช | ฑฐูช | **นฐูช ฺฉุงูุด** |
| ุฒูุงู ุจุงุฒุงุจ | ฑ ุณุงุนุช (ุฏุณุช) | ต ุฏููู (ุฎูุฏฺฉุงุฑ) | **ฑฒ ุจุฑุงุจุฑ** |

---

## ๐ฐ ุตุฑููโุฌู ูุฒูู

**ููุงุณู ุจุง AWS (ูุงูุงูู):**

| ุณุฑูุณ | AWS | Self-Hosted | ุตุฑููโุฌู |
|-------|-----|-------------|-----------|
| Storage | $500 | $100 | **ธฐูช** |
| Search | $700 | $200 | **ทฑูช** |
| Queue | $300 | $30 | **นฐูช** |
| **ุฌูุน** | **$ฑตฐฐ** | **$ณณฐ** | **ทธูช** |

---

## ๐ ุฑุงูโุงูุฏุงุฒ (ต ุฏููู)

### ฑ. ูุตุจ ูุงุจุณุชฺฏโูุง
```powershell
.\install-enterprise-deps.ps1
```

### ฒ. ุชูุธูุงุช ูุญุท
```powershell
Copy-Item .env.example .env
# ูุฑุงุด .env ู ุชูุธู ุฑูุฒูุง ุนุจูุฑ
```

### ณ. ุฑุงูโุงูุฏุงุฒ ุณุฑูุณโูุง
```powershell
npm run docker:build
npm run docker:build:worker
npm run docker:up:prod
```

### ด. ุจุฑุฑุณ ุณูุงูุช
```powershell
.\verify-services.ps1
```

---

## ๐ ูุงูโูุง ุงุฌุงุฏ ุดุฏู

### ุฒุฑุณุงุฎุช
```
docker-compose.prod.yml          [ุขูพุฏุช ุดุฏู] - ด ุณุฑูุณ ุฌุฏุฏ
Dockerfile.worker                [ุฌุฏุฏ] - ฺฉุงูุชูุฑ Worker
```

### ฺฉุชุงุจุฎุงููโูุง
```
libs/storage/                    [ุฌุฏุฏ] - ุณุฑูุณ ุฐุฎุฑูโุณุงุฒ
libs/search/                     [ุฌุฏุฏ] - ุณุฑูุณ ุฌุณุชุฌู
libs/queue/                      [ุฌุฏุฏ] - ุณุณุชู ุตู
```

### ุจุฑูุงูู Worker
```
apps/worker/                     [ุฌุฏุฏ] - ูพุฑุฏุงุฒุดฺฏุฑ ูพุณโุฒููู
โโโ src/sms.worker.ts           - Worker ูพุงูฺฉ
โโโ src/email.worker.ts         - Worker ุงูู
โโโ src/image.worker.ts         - Worker ุชุตุงูุฑ
```

### ุงุณฺฉุฑูพุชโูุง
```
scripts/backup-db.sh             [ุฌุฏุฏ] - ุจฺฉโุขูพ ุฎูุฏฺฉุงุฑ
scripts/restore-db.sh            [ุฌุฏุฏ] - ุจุงุฒฺฏุฑุฏุงู
install-enterprise-deps.ps1      [ุฌุฏุฏ] - ูุตุจ ูุงุจุณุชฺฏโูุง
verify-services.ps1              [ุฌุฏุฏ] - ุจุฑุฑุณ ุณูุงูุช
```

### ุณุฆู
```
apps/web/next-sitemap.config.js  [ุฌุฏุฏ] - ุชูุธูุงุช Sitemap
apps/web/src/components/seo/     [ุฌุฏุฏ] - ฺฉุงููพูููุชโูุง JSON-LD
```

### ูุณุชูุฏุงุช
```
docs/ENTERPRISE_SERVICES_GUIDE.md [ุฌุฏุฏ] - ุฑุงูููุง ฺฉุงูู
docs/DEPLOYMENT_CHECKLIST.md      [ุฌุฏุฏ] - ฺฺฉโูุณุช ุงุณุชูุฑุงุฑ
docs/IMPLEMENTATION_SUMMARY.md    [ุฌุฏุฏ] - ุฎูุงุตู ูพุงุฏูโุณุงุฒ
QUICK_START.md                     [ุฌุฏุฏ] - ุดุฑูุน ุณุฑุน
```

---

## ๐ ฺฺฉโูุณุช ุงููุช

- [ ] ุชุบุฑ ุชูุงู ุฑูุฒูุง ุนุจูุฑ ูพุดโูุฑุถ
- [ ] ุชูุธู `MEILI_MASTER_KEY` (ณฒ ฺฉุงุฑุงฺฉุชุฑ ุชุตุงุฏู)
- [ ] ุชูุธู `MINIO_ROOT_PASSWORD` (ุญุฏุงูู ธ ฺฉุงุฑุงฺฉุชุฑ)
- [ ] ุชูุธู `JWT_SECRET` ู `JWT_REFRESH_SECRET`
- [ ] ูุนุงูโุณุงุฒ `NODE_ENV=production`
- [ ] ุงุฒููู ฺฉุฑุฏู ุดุจฺฉู Docker
- [ ] ูุตุจ ฺฏูุงู SSL

---

## ๐ ุฏุณุชูุฑุงุช ููุฏ

```bash
# ุฑุงูโุงูุฏุงุฒ
npm run docker:up:prod           # ุดุฑูุน ููู ุณุฑูุณโูุง
npm run docker:ps                # ูุถุนุช ุณุฑูุณโูุง
npm run docker:logs              # ูุดุงูุฏู ูุงฺฏโูุง

# ุจฺฉโุขูพ
npm run backup:db                # ุจฺฉโุขูพ ุฏุณุช
npm run restore:db               # ุจุงุฒฺฏุฑุฏุงู

# ุชููู
npm run docker:down:prod         # ุชููู ููู ุณุฑูุณโูุง
```

---

## ๐ฏ ูุชุฌู ููุง

โ **ธ ุณุฑูุณ** ุฏุฑ ุญุงู ุงุฌุฑุง (Postgres, Redis, MinIO, MeiliSearch, API, Worker, Backup, Web)  
โ **ด ุตู ฺฉุงุฑ** (SMS, Email, Image Processing, Background Tasks)  
โ **ุจฺฉโุขูพ ุฎูุฏฺฉุงุฑ** ูุฑ ฑฒ ุณุงุนุช  
โ **ุฌุณุชุฌู ุงุจุฑ** ุจุง ุณุฑุนุช <ตฐms  
โ **ุฐุฎุฑูโุณุงุฒ ุงุจุฑ** ุจุง ุตุฑููโุฌู ธฐูช  
โ **ุณุฆู ูพุดุฑูุชู** ุจุง Rich Snippets  
โ **ูุณุชูุฏุงุช ฺฉุงูู** ุจู ุฏู ุฒุจุงู  

---

## ๐ ุขูุงุฏู ุจุฑุง ุชููุฏ!

**ูุนูุงุฑ ุดูุง ุงฺฉููู ุฏุฑ ุณุทุญ:**
- โ Digikala
- โ Amazon
- โ eBay
- โ Alibaba

**ุธุฑูุช:**
- ๐ฆ ููููโูุง ูุญุตูู
- ๐ฅ ุตุฏูุง ูุฒุงุฑ ฺฉุงุฑุจุฑ ููุฒูุงู
- ๐ ูุงุจูุช ููุงุณโูพุฐุฑ ุงูู

---

## ๐ ูพุดุชุจุงู

**ูุณุชูุฏุงุช:**
- `docs/ENTERPRISE_SERVICES_GUIDE.md` - ุฑุงูููุง ุฌุงูุน
- `docs/DEPLOYMENT_CHECKLIST.md` - ฺฺฉโูุณุช ุงุณุชูุฑุงุฑ
- `docs/IMPLEMENTATION_SUMMARY.md` - ุฎูุงุตู ูพุงุฏูโุณุงุฒ

**ุงุจุฒุงุฑูุง:**
- `.\verify-services.ps1` - ุจุฑุฑุณ ุณูุงูุช
- `npm run docker:ps` - ูุถุนุช ุณุฑูุณโูุง
- `npm run docker:logs` - ูุดุงูุฏู ูุงฺฏโูุง

---

**ูููู ุจุงุดุฏ! ๐**

*ุชู ุชูุณุนู NextGen Marketplace*
