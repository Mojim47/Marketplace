{
  "apiVersion": 1,
  "configMaps": [
    {
      "apiVersion": 1,
      "kind": "ConfigMap",
      "metadata": {
        "labels": {
          "grafana_dashboard": "1"
        },
        "name": "nextgen-api-overview-dashboard",
        "namespace": "nextgen"
      },
      "data": {
        "api-overview.json": "{\"annotations\":{\"list\":[{\"builtIn\":1,\"datasource\":\"-- Grafana --\",\"enable\":true,\"hide\":true,\"iconColor\":\"rgba(0, 211, 255, 1)\",\"name\":\"Annotations & Alerts\",\"type\":\"dashboard\"}]},\"editable\":true,\"gnetId\":null,\"graphTooltip\":0,\"id\":null,\"links\":[],\"panels\":[{\"datasource\":\"Prometheus\",\"fieldConfig\":{\"defaults\":{\"custom\":{},\"max\":null,\"min\":0,\"unit\":\"req/s\"},\"overrides\":[]},\"gridPos\":{\"h\":8,\"w\":12,\"x\":0,\"y\":0},\"id\":2,\"options\":{\"colorMode\":\"palette\",\"graph\":{\"stack\":false,\"type\":\"line\"},\"legend\":{\"calcs\":[],\"displayMode\":\"list\",\"placement\":\"bottom\"},\"tooltip\":{\"mode\":\"single\",\"sort\":\"none\"}},\"targets\":[{\"expr\":\"sum(rate(http_requests_total{job=\\\"api\\\",code=~\\\"2..\\\"}[1m])) by (instance)\",\"format\":\"time_series\",\"interval\":\"\",\"legendFormat\":\"{{instance}} - 2xx\",\"refId\":\"A\"},{\"expr\":\"sum(rate(http_requests_total{job=\\\"api\\\",code=~\\\"4..\\\"}[1m])) by (instance)\",\"format\":\"time_series\",\"interval\":\"\",\"legendFormat\":\"{{instance}} - 4xx\",\"refId\":\"B\"},{\"expr\":\"sum(rate(http_requests_total{job=\\\"api\\\",code=~\\\"5..\\\"}[1m])) by (instance)\",\"format\":\"time_series\",\"interval\":\"\",\"legendFormat\":\"{{instance}} - 5xx\",\"refId\":\"C\"}],\"title\":\"API Request Rate (1m avg)\",\"type\":\"timeseries\"},{\"datasource\":\"Prometheus\",\"fieldConfig\":{\"defaults\":{\"custom\":{}},\"overrides\":[]},\"gridPos\":{\"h\":8,\"w\":12,\"x\":12,\"y\":0},\"id\":4,\"options\":{\"colorMode\":\"thresholds\",\"graph\":{\"showPoints\":\"auto\",\"stack\":false,\"type\":\"line\"},\"legend\":{\"calcs\":[\"mean\",\"last\",\"max\"],\"displayMode\":\"table\",\"placement\":\"right\"},\"tooltip\":{\"mode\":\"multi\",\"sort\":\"none\"}},\"targets\":[{\"expr\":\"histogram_quantile(0.99, sum(rate(http_request_duration_seconds_bucket{job=\\\"api\\\"}[5m])) by (le, instance))\",\"format\":\"time_series\",\"interval\":\"\",\"legendFormat\":\"{{instance}} - p99 latency\",\"refId\":\"A\"},{\"expr\":\"histogram_quantile(0.50, sum(rate(http_request_duration_seconds_bucket{job=\\\"api\\\"}[5m])) by (le, instance))\",\"format\":\"time_series\",\"interval\":\"\",\"legendFormat\":\"{{instance}} - p50 latency\",\"refId\":\"B\"}],\"title\":\"API Latency (p99/p50 - 5m avg)\",\"type\":\"timeseries\"}],\"schemaVersion\":37,\"style\":\"dark\",\"tags\":[\"nextgen\",\"api\",\"overview\"],\"templating\":{\"list\":[]},\"time\":{\"from\":\"now-6h\",\"to\":\"now\"},\"timepicker\":{\"refreshIntervals\":[\"5s\",\"10s\",\"30s\",\"1m\",\"5m\",\"15m\",\"30m\",\"1h\",\"2h\",\"1d\"],\"time_options\":[\"5m\",\"15m\",\"1h\",\"6h\",\"12h\",\"24h\",\"2d\",\"7d\",\"30d\"],\"useBrowserTimezone\":true},\"timezone\":\"browser\",\"title\":\"NextGen API Overview\",\"uid\":\"api-overview\",\"variables\":{\"list\":[]},\"version\":1}"
      }
    }
  ]
}
